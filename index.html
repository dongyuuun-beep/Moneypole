<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¨¸ë‹ˆí´(MoneyPole) - ìŠ¤ë§ˆíŠ¸ ê¸ˆë¦¬ ë¹„êµ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --main-blue: #007AFF; --point-teal: #00D1B2; --bg-grey: #F8F9FA; --border: #E9ECEF; }
        body { font-family: 'Pretendard', sans-serif; margin: 0; background: var(--bg-grey); color: #2D3436; overflow-x: hidden; }
        
        /* í—¤ë” & ë¡œê³  ì˜ì—­ */
        header { background: #fff; padding: 20px; border-bottom: 1px solid var(--border); text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.02); }
        .logo-img { height: 60px; cursor: pointer; transition: transform 0.2s; }
        .logo-img:hover { transform: scale(1.05); }

        /* ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ */
        nav { display: flex; justify-content: center; gap: 30px; margin-top: 20px; border-top: 1px solid var(--border); padding-top: 15px; }
        nav a { text-decoration: none; color: #636E72; font-weight: 600; font-size: 1.1rem; cursor: pointer; transition: color 0.2s; position: relative; }
        nav a:hover, nav a.active { color: var(--main-blue); }
        nav a.active::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 100%; height: 2px; background: var(--main-blue); }

        /* ê²€ìƒ‰ ì˜ì—­ */
        .search-container { background: #fff; padding: 30px 20px; display: flex; justify-content: center; gap: 10px; border-bottom: 1px solid var(--border); }
        .search-bar { width: 500px; padding: 15px 20px; border: 2px solid var(--border); border-radius: 12px; font-size: 1rem; outline: none; transition: border-color 0.2s; }
        .search-bar:focus { border-color: var(--main-blue); }
        .search-btn { background: var(--main-blue); color: #fff; border: none; width: 55px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; justify-content: center; }

        /* ë©”ì¸ ì»¨í…ì¸  ì»¨í…Œì´ë„ˆ */
        .content { max-width: 1100px; margin: 30px auto; padding: 0 20px; min-height: 600px; }
        .card { background: #fff; border-radius: 20px; padding: 30px; box-shadow: 0 8px 30px rgba(0,0,0,0.05); margin-bottom: 25px; }

        /* ë­í‚¹ ë¦¬ìŠ¤íŠ¸ ë ˆì´ì•„ì›ƒ */
        .rank-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .rank-item { display: flex; justify-content: space-between; align-items: center; padding: 18px; border-bottom: 1px solid #F1F3F5; cursor: pointer; border-radius: 12px; transition: background 0.2s; }
        .rank-item:hover { background: #F8F9FA; }
        .rank-num { background: var(--main-blue); color: #fff; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.85rem; margin-right: 15px; }
        .rate-text { color: var(--main-blue); font-weight: 800; font-size: 1.2rem; }

        /* í•„í„° ë° ìƒì„¸ í˜ì´ì§€ */
        .filter-bar { display: flex; gap: 12px; margin-bottom: 25px; }
        .filter-bar select { padding: 12px; border-radius: 10px; border: 1px solid var(--border); flex: 1; outline: none; }
        .chart-box { height: 350px; margin-top: 30px; }

        /* í•˜ë‹¨ ê³ ì§€ */
        footer { background: #FFFBE6; border: 1px solid #FFE58F; padding: 25px; border-radius: 15px; font-size: 0.9rem; color: #856404; line-height: 1.7; margin-top: 60px; }
    </style>
</head>
<body>

<header>
    <img src="logo.png" alt="MoneyPole Logo" class="logo-img" onclick="goHome()">
    <nav>
        <a id="nav-deposit" onclick="changeCategory('deposit')">ì˜ˆê¸ˆ</a>
        <a id="nav-savings" onclick="changeCategory('savings')">ì ê¸ˆ</a>
        <a id="nav-cp" onclick="changeCategory('cp')">ë°œí–‰ì–´ìŒ</a>
        <a id="nav-bond" onclick="changeCategory('bond')">ì±„ê¶Œ</a>
        <a id="nav-els" onclick="changeCategory('els')">ELS/ELB</a>
    </nav>
</header>

<div class="search-container">
    <input type="text" class="search-bar" placeholder="ì€í–‰ëª… ë˜ëŠ” ìƒí’ˆëª…ì„ ê²€ìƒ‰í•˜ì„¸ìš”">
    <button class="search-btn">ğŸ”</button>
</div>

<div class="content">
    <div id="view-home">
        <div class="rank-grid">
            <div class="card">
                <h3>ğŸ’° ì˜ˆê¸ˆ ê¸ˆë¦¬ ë­í‚¹ (TOP 10)</h3>
                <div id="main-dep-list"></div>
            </div>
            <div class="card">
                <h3>ğŸ“ˆ ì ê¸ˆ ê¸ˆë¦¬ ë­í‚¹ (TOP 10)</h3>
                <div id="main-sav-list"></div>
            </div>
        </div>
    </div>

    <div id="view-list" style="display:none;">
        <div class="filter-bar">
            <select><option>ëª¨ë“  ê¸°ê°„</option><option>12ê°œì›”</option><option>24ê°œì›”</option></select>
            <select><option>ìµœê³  ê¸ˆë¦¬ìˆœ</option><option>ê¸°ë³¸ ê¸ˆë¦¬ìˆœ</option></select>
            <select><option>ì œ1ê¸ˆìœµê¶Œ</option><option>ì œ2ê¸ˆìœµê¶Œ</option></select>
        </div>
        <div class="card">
            <h2 id="list-title">ê¸ˆë¦¬ ë¹„êµ ë¦¬ìŠ¤íŠ¸</h2>
            <div id="list-container"></div>
        </div>
    </div>

    <div id="view-detail" class="card" style="display:none;">
        <button onclick="goBack()" style="padding:10px 20px; cursor:pointer;">â† ëª©ë¡ìœ¼ë¡œ</button>
        <div id="detail-header" style="margin-top:20px;"></div>
        <div class="chart-box"><canvas id="mainChart"></canvas></div>
    </div>

    <footer>
        <strong>âš ï¸ ë²•ì  ê³ ì§€ì‚¬í•­ (ë¨¸ë‹ˆí´)</strong><br>
        ë³¸ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ê¸ˆë¦¬ ì •ë³´ëŠ” ë‹¨ìˆœ ì •ë³´ ì „ë‹¬ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ê³µì‹œ ë°ì´í„°ì™€ ì•½ê°„ì˜ ì‹œì°¨ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‹¤ì œ ê°€ì… ì‹œì—ëŠ” ë°˜ë“œì‹œ í•´ë‹¹ ê¸ˆìœµê¸°ê´€ì˜ ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë¨¸ë‹ˆí´ì€ ì–´ë– í•œ ê¸ˆìœµ ê³„ì•½ë„ ì¤‘ê°œí•˜ê±°ë‚˜ íŒë§¤í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    </footer>
</div>

<script>
    // ì„ì‹œ ë°ì´í„° (ë‚˜ì¤‘ì— Pythonì—ì„œ ìƒì„±í•œ data.jsonì„ ì½ì–´ì˜µë‹ˆë‹¤)
    let mockData = [
        {id: 1, bank: "KBêµ­ë¯¼ì€í–‰", name: "Star ì •ê¸°ì˜ˆê¸ˆ", type: "deposit", base: 3.5, max: 4.3, history: [4.1, 4.2, 4.3]},
        {id: 2, bank: "ìš°ë¦¬ì€í–‰", name: "WON ì ê¸ˆ", type: "savings", base: 3.8, max: 5.1, history: [4.9, 5.0, 5.1]},
        {id: 3, bank: "ë¯¸ë˜ì—ì…‹ì¦ê¶Œ", name: "ë°œí–‰ì–´ìŒ 1ë…„ë¬¼", type: "cp", base: 4.0, max: 4.0, history: [4.0, 4.0, 4.0]}
    ];

    let currentView = 'home';
    let chartInstance = null;

    // ì´ˆê¸° í™”ë©´ ì„¤ì •
    function goHome() {
        switchView('home');
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        renderHomeRank();
    }

    // ë„¤ë¹„ê²Œì´ì…˜ ì „í™˜ í•µì‹¬ ë¡œì§
    function switchView(viewId) {
        currentView = viewId;
        document.getElementById('view-home').style.display = viewId === 'home' ? 'block' : 'none';
        document.getElementById('view-list').style.display = viewId === 'list' ? 'block' : 'none';
        document.getElementById('view-detail').style.display = viewId === 'detail' ? 'block' : 'none';
    }

    function changeCategory(type) {
        switchView('list');
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        document.getElementById(`nav-${type}`).classList.add('active');
        
        const titleMap = { deposit: 'ì˜ˆê¸ˆ', savings: 'ì ê¸ˆ', cp: 'ë°œí–‰ì–´ìŒ', bond: 'ì±„ê¶Œ', els: 'ELS/ELB' };
        document.getElementById('list-title').innerText = `${titleMap[type]} TOP 100 ê¸ˆë¦¬ ìˆœìœ„`;
        
        renderList(type);
    }

    function renderHomeRank() {
        const depList = document.getElementById('main-dep-list');
        const savList = document.getElementById('main-sav-list');
        
        depList.innerHTML = mockData.filter(d => d.type === 'deposit').map((d, i) => `
            <div class="rank-item" onclick="showDetail(${d.id})">
                <div style="display:flex; align-items:center;"><span class="rank-num">${i+1}</span>${d.bank}</div>
                <span class="rate-text">ì—° ${d.max}%</span>
            </div>`).join('');
            
        savList.innerHTML = mockData.filter(d => d.type === 'savings').map((d, i) => `
            <div class="rank-item" onclick="showDetail(${d.id})">
                <div style="display:flex; align-items:center;"><span class="rank-num">${i+1}</span>${d.bank}</div>
                <span class="rate-text">ì—° ${d.max}%</span>
            </div>`).join('');
    }

    function renderList(type) {
        const container = document.getElementById('list-container');
        const filtered = mockData.filter(d => d.type === type);
        
        if(filtered.length === 0) {
            container.innerHTML = "<p style='padding:40px; text-align:center;'>í˜„ì¬ ë“±ë¡ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
            return;
        }

        container.innerHTML = filtered.map((d, i) => `
            <div class="rank-item" onclick="showDetail(${d.id})">
                <div><b>${i+1}.</b> ${d.bank} - ${d.name}</div>
                <div class="rate-text">ì—° ${d.max}%</div>
            </div>`).join('');
    }

    function showDetail(id) {
        switchView('detail');
        const item = mockData.find(d => d.id === id);
        document.getElementById('detail-header').innerHTML = `
            <h2>${item.bank} - ${item.name}</h2>
            <div style="font-size:1.2rem;">ìµœê³  ê¸ˆë¦¬: <b style="color:var(--main-blue)">ì—° ${item.max}%</b> (ê¸°ë³¸ ${item.base}%)</div>
        `;

        const ctx = document.getElementById('mainChart').getContext('2d');
        if(chartInstance) chartInstance.destroy();
        chartInstance = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['ì „ì „ì›”', 'ì „ì›”', 'í˜„ì¬'],
                datasets: [{ label: 'ê¸ˆë¦¬ ì¶”ì´', data: item.history, borderColor: '#007AFF', tension: 0.3, fill: true, backgroundColor: 'rgba(0,122,255,0.05)' }]
            },
            options: { maintainAspectRatio: false }
        });
    }

    function goBack() { switchView('list'); }

    window.onload = goHome;
</script>
</body>
</html>
