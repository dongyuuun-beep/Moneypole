<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸ˆë¦¬ëª¨ì•„ - ìŠ¤ë§ˆíŠ¸í•œ ê¸ˆìœµ ë¹„êµ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --main-blue: #007AFF; --bg-grey: #F2F4F7; --text-black: #1A1A1A; --border-grey: #E5E7EB; }
        body { font-family: 'Pretendard', sans-serif; margin: 0; background: var(--bg-grey); color: var(--text-black); }
        
        /* í—¤ë” & ë„¤ë¹„ê²Œì´ì…˜ */
        header { background: #fff; padding: 20px; border-bottom: 1px solid var(--border-grey); text-align: center; }
        .logo { font-size: 2rem; font-weight: 800; color: var(--main-blue); text-decoration: none; display: block; margin-bottom: 15px; }
        nav { display: flex; justify-content: center; gap: 25px; margin-bottom: 10px; }
        nav a { text-decoration: none; color: #666; font-weight: 600; font-size: 1.1rem; }
        nav a.active { color: var(--main-blue); border-bottom: 2px solid var(--main-blue); }

        /* ê²€ìƒ‰ ì˜ì—­ */
        .search-section { background: #fff; padding: 20px; display: flex; justify-content: center; gap: 10px; }
        .search-input { width: 400px; padding: 12px; border: 1px solid var(--border-grey); border-radius: 8px; font-size: 1rem; }
        .search-btn { background: var(--main-blue); color: white; border: none; padding: 0 20px; border-radius: 8px; cursor: pointer; }

        /* ë©”ì¸ ëŒ€ì‹œë³´ë“œ (TOP 10 ë­í‚¹) */
        .main-dashboard { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px; max-width: 1000px; margin: 0 auto; }
        .rank-card { background: #fff; border-radius: 16px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .rank-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 20px; display: flex; justify-content: space-between; }
        .rank-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--bg-grey); }
        .rank-number { width: 25px; height: 25px; background: var(--main-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; }

        /* í•„í„° ë°” (ì„œë¸Œí˜ì´ì§€ìš©) */
        .filter-container { background: #fff; padding: 15px; margin: 10px 0; border-bottom: 1px solid var(--border-grey); display: none; }
        .filter-bar { max-width: 1000px; margin: 0 auto; display: flex; gap: 15px; flex-wrap: wrap; }
        
        /* ìƒì„¸ í˜ì´ì§€ */
        .product-detail { background: #fff; border-radius: 16px; padding: 30px; margin: 20px auto; max-width: 800px; display: none; }
        .chart-box { height: 300px; margin: 30px 0; }

        /* ë²•ì  ê³ ì§€ */
        .legal-notice { background: #fff; border: 1px solid #FFE58F; background-color: #FFFBE6; padding: 20px; border-radius: 12px; max-width: 1000px; margin: 40px auto; font-size: 0.85rem; color: #856404; }
    </style>
</head>
<body>

<header>
    <a href="#" class="logo" onclick="showMain()">â›°ï¸ ê¸ˆë¦¬ëª¨ì•„</a>
    <nav>
        <a href="#" onclick="showSub('deposit')" id="nav-dep">ì˜ˆê¸ˆ</a>
        <a href="#" onclick="showSub('savings')" id="nav-sav">ì ê¸ˆ</a>
        <a href="#" style="color:#ccc">ë°œí–‰ì–´ìŒ(ì¶”í›„)</a>
        <a href="#" style="color:#ccc">ì±„ê¶Œ(ì¶”í›„)</a>
        <a href="#">ê³µì§€ì‚¬í•­</a>
    </nav>
</header>

<div class="search-section">
    <input type="text" class="search-input" placeholder="ì€í–‰ëª… ë˜ëŠ” ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
    <button class="search-btn">ê²€ìƒ‰</button>
</div>

<div id="page-main" class="main-dashboard">
    <div class="rank-card">
        <div class="rank-title">ì˜ˆê¸ˆ ê¸ˆë¦¬ ë­í‚¹ (TOP 10) <small onclick="showSub('deposit')" style="cursor:pointer; color:var(--main-blue)">ë”ë³´ê¸°+</small></div>
        <div id="deposit-rank-list"></div>
    </div>
    <div class="rank-card">
        <div class="rank-title">ì ê¸ˆ ê¸ˆë¦¬ ë­í‚¹ (TOP 10) <small onclick="showSub('savings')" style="cursor:pointer; color:var(--main-blue)">ë”ë³´ê¸°+</small></div>
        <div id="savings-rank-list"></div>
    </div>
</div>

<div id="page-sub" style="display:none;">
    <div class="filter-container" style="display:block;">
        <div class="filter-bar">
            <select><option>ê¸°ê°„(ì „ì²´)</option><option>12ê°œì›”</option><option>24ê°œì›”</option></select>
            <select><option>ê¸°ë³¸ê¸ˆë¦¬ìˆœ</option><option>ìµœê³ ê¸ˆë¦¬ìˆœ</option></select>
            <input type="number" placeholder="ê¸ˆì•¡ ì…ë ¥(ì›)">
        </div>
    </div>
    <div class="main-dashboard" id="sub-list" style="grid-template-columns: 1fr;">
        </div>
</div>

<div id="page-detail" class="product-detail">
    <div id="detail-content"></div>
    <div class="chart-box">
        <canvas id="rateChart"></canvas>
    </div>
</div>

<div class="legal-notice">
    <strong>âš ï¸ ë²•ì  ê³ ì§€ì‚¬í•­ ë° ì•ˆë‚´</strong><br>
    ë³¸ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ê¸ˆë¦¬ ì •ë³´ëŠ” ê° ê¸ˆìœµê¸°ê´€ì˜ ê³µì‹œ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œê³µë˜ë‚˜, ì‹¤ì‹œê°„ ë³€ë™ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³¸ ì‚¬ì´íŠ¸ëŠ” ë‹¨ìˆœ ì •ë³´ ì „ë‹¬ ë° ë¹„êµë¥¼ ëª©ì ìœ¼ë¡œ í•˜ë©°, ê¸ˆìœµìƒí’ˆì˜ íŒë§¤ ëŒ€í–‰ì´ë‚˜ ê°€ì… ê¶Œìœ ë¥¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì •í™•í•œ ìƒí’ˆ ì¡°ê±´ì€ ë°˜ë“œì‹œ í•´ë‹¹ ê¸ˆìœµì‚¬ í™ˆí˜ì´ì§€ë¥¼ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
    <br><br>ì¶œì²˜: ê¸ˆìœµê°ë…ì›, ê° ê¸ˆìœµì‚¬ ê³µì‹œìë£Œ
</div>

<script>
    // ê°€ìƒì˜ ë°ì´í„° ì…‹ì—… (ë‚˜ì¤‘ì— APIì™€ ì—°ê²°ë¨)
    const dummyData = Array.from({length: 20}, (_, i) => ({
        id: i,
        bank: i % 2 === 0 ? "KBêµ­ë¯¼ì€í–‰" : "ìš°ë¦¬ì€í–‰",
        name: i % 2 === 0 ? "Star ì •ê¸°ì˜ˆê¸ˆ" : "WON ì ê¸ˆ",
        type: i % 2 === 0 ? "deposit" : "savings",
        base: (3.0 + (i * 0.1)).toFixed(1),
        max: (4.0 + (i * 0.1)).toFixed(1),
        color: i % 2 === 0 ? "#0046FF" : "#0067AC"
    }));

    function showMain() {
        document.getElementById('page-main').style.display = 'grid';
        document.getElementById('page-sub').style.display = 'none';
        document.getElementById('page-detail').style.display = 'none';
        renderMain();
    }

    function renderMain() {
        const depList = document.getElementById('deposit-rank-list');
        const savList = document.getElementById('savings-rank-list');
        
        const depTop10 = dummyData.filter(d => d.type === 'deposit').slice(0, 10);
        const savTop10 = dummyData.filter(d => d.type === 'savings').slice(0, 10);

        depList.innerHTML = depTop10.map((d, i) => `
            <div class="rank-item" onclick="showDetail(${d.id})">
                <div style="display:flex; align-items:center; gap:10px;">
                    <span class="rank-number">${i+1}</span>
                    <span>${d.bank} - ${d.name}</span>
                </div>
                <span style="color:var(--main-blue); font-weight:bold;">ì—° ${d.max}%</span>
            </div>
        `).join('');

        savList.innerHTML = savTop10.map((d, i) => `
            <div class="rank-item" onclick="showDetail(${d.id})">
                <div style="display:flex; align-items:center; gap:10px;">
                    <span class="rank-number">${i+1}</span>
                    <span>${d.bank} - ${d.name}</span>
                </div>
                <span style="color:var(--main-blue); font-weight:bold;">ì—° ${d.max}%</span>
            </div>
        `).join('');
    }

    function showSub(type) {
        document.getElementById('page-main').style.display = 'none';
        document.getElementById('page-sub').style.display = 'block';
        document.getElementById('page-detail').style.display = 'none';
        
        const subList = document.getElementById('sub-list');
        const filtered = dummyData.filter(d => d.type === type);

        subList.innerHTML = filtered.map((d, i) => `
            <div class="rank-card" onclick="showDetail(${d.id})" style="margin-bottom:10px; cursor:pointer;">
                <div style="display:flex; justify-content:space-between;">
                    <strong>[${i+1}ìœ„] ${d.bank}</strong>
                    <span style="color:var(--main-blue)">ìµœê³  ì—° ${d.max}%</span>
                </div>
                <div style="margin-top:5px; color:#666;">${d.name} | ê¸°ë³¸ ${d.base}%</div>
            </div>
        `).join('');
    }

    let currentChart = null;
    function showDetail(id) {
        document.getElementById('page-main').style.display = 'none';
        document.getElementById('page-sub').style.display = 'none';
        document.getElementById('page-detail').style.display = 'block';

        const item = dummyData.find(d => d.id === id);
        document.getElementById('detail-content').innerHTML = `
            <h2>${item.bank}</h2>
            <h3>${item.name}</h3>
            <hr>
            <p>ê¸°ë³¸ ê¸ˆë¦¬: ${item.base}% | <strong>ìš°ëŒ€ ê¸ˆë¦¬ í¬í•¨: ${item.max}%</strong></p>
            <div style="background:#f8f9fa; padding:15px; border-radius:10px;">
                <strong>ğŸ§® ë§Œê¸° ìˆ˜ë ¹ì•¡ ê³„ì‚° (1,000ë§Œì› ê¸°ì¤€)</strong><br>
                ì„¸í›„ ì˜ˆìƒ ì´ì: ì•½ ${(10000000 * (item.max/100) * 0.846).toLocaleString()}ì›
            </div>
        `;

        // ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        const ctx = document.getElementById('rateChart').getContext('2d');
        if(currentChart) currentChart.destroy();
        currentChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['1Q', '2Q', '3Q', '4Q'],
                datasets: [
                    { label: 'í•´ë‹¹ ìƒí’ˆ ê¸ˆë¦¬ ì¶”ì´', data: [3.5, 3.8, 3.6, item.max], borderColor: var(--main-blue), tension: 0.1 },
                    { label: 'íƒ€ì‚¬ ë©”ì¸ ìƒí’ˆ í‰ê· ', data: [3.2, 3.4, 3.5, 3.5], borderColor: '#ccc', borderDash: [5, 5], tension: 0.1 }
                ]
            },
            options: { maintainAspectRatio: false }
        });
    }

    // ì´ˆê¸° ì‹¤í–‰
    renderMain();
</script>

</body>
</html>
