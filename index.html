<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸ˆë¦¬ë§ˆìŠ¤í„° - ì „ ê¸ˆìœµê¶Œ ê¸ˆë¦¬ ë¹„êµ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --main-blue: #0046FF; --point-red: #FF0000; --bg-grey: #f8f9fa; --border-grey: #e9ecef; }
        body { font-family: 'Pretendard', sans-serif; margin: 0; background: #fff; color: #333; line-height: 1.6; }
        
        /* í—¤ë” & ë©”ë‰´ */
        header { border-bottom: 2px solid var(--main-blue); padding: 15px 20px; position: sticky; top: 0; background: #fff; z-index: 100; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--main-blue); text-decoration: none; }
        nav { margin-top: 10px; display: flex; gap: 15px; overflow-x: auto; }
        nav a { text-decoration: none; color: #666; font-weight: 500; white-space: nowrap; }
        nav a.active { color: var(--main-blue); border-bottom: 2px solid var(--main-blue); }

        /* í•„í„° ë°” */
        .filter-bar { background: var(--bg-grey); padding: 15px; border-bottom: 1px solid var(--border-grey); }
        .filter-group { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
        select, input { padding: 8px; border: 1px solid var(--border-grey); border-radius: 4px; }

        /* ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ */
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .card { border: 1px solid var(--border-grey); border-radius: 12px; padding: 20px; margin-bottom: 15px; transition: 0.3s; }
        .card:hover { border-color: var(--main-blue); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .bank-info { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
        .bank-color { width: 14px; height: 14px; border-radius: 3px; border: 1px solid #ddd; }
        .product-name { font-size: 1.1rem; font-weight: bold; margin: 5px 0; }
        .rates { display: flex; gap: 20px; margin: 10px 0; }
        .rate-box .label { font-size: 0.8rem; color: #888; }
        .rate-box .val { font-size: 1.2rem; font-weight: bold; }
        .max-rate { color: var(--point-red); }

        /* ìƒì„¸ ì •ë³´ (ê³„ì‚°ê¸° & ê·¸ë˜í”„) */
        .details { display: none; margin-top: 15px; padding-top: 15px; border-top: 1px dashed #ddd; }
        .calc-box { background: #f1f3f5; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
        .chart-container { height: 200px; margin-bottom: 15px; }

        /* ë²•ì  ê³ ì§€ */
        footer { font-size: 0.75rem; color: #999; padding: 40px 20px; text-align: center; background: var(--bg-grey); }
    </style>
</head>
<body>

<header>
    <a href="#" class="logo">ê¸ˆë¦¬ë§ˆìŠ¤í„°</a>
    <nav>
        <a href="#" class="active">ì˜ˆê¸ˆ</a>
        <a href="#">ì ê¸ˆ</a>
        <a href="#">ë°œí–‰ì–´ìŒ</a>
        <a href="#">ì±„ê¶Œ</a>
    </nav>
</header>

<div class="filter-bar">
    <div class="filter-group">
        <label>ì˜ˆì¹˜ê¸ˆì•¡</label>
        <input type="number" id="inputMoney" value="10000000" step="1000000"> ì›
        <label>ê¸°ê°„</label>
        <select id="inputTerm">
            <option value="12">12ê°œì›”</option>
            <option value="24">24ê°œì›”</option>
            <option value="36">36ê°œì›”</option>
        </select>
    </div>
</div>

<div class="container" id="productList">
    </div>

<footer>
    <p>ë²•ì  ê³ ì§€: ë³¸ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ê¸ˆìœµìƒí’ˆ ì •ë³´ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ê°€ì… ì¡°ê±´ì€ í•´ë‹¹ ê¸ˆìœµì‚¬ í™ˆí˜ì´ì§€ì—ì„œ ë°˜ë“œì‹œ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë³¸ ì‚¬ì´íŠ¸ëŠ” ê¸ˆìœµìƒí’ˆ íŒë§¤ ëŒ€í–‰ ë° ì¤‘ê°œë¥¼ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì±„ê¶Œ ë° ë°œí–‰ì–´ìŒ ìƒí’ˆì€ ì›ê¸ˆ ì†ì‹¤ ìœ„í—˜ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</footer>

<script>
    // 1. ì „ ê¸ˆìœµê¶Œ ì»¬ëŸ¬ ë§¤í•‘ ë°ì´í„°
    const bankColors = {
        "ì‹ í•œì€í–‰": "#0046FF", "êµ­ë¯¼ì€í–‰": "#FFBC00", "ìš°ë¦¬ì€í–‰": "#0067AC",
        "í•˜ë‚˜ì€í–‰": "#008485", "ë†í˜‘ì€í–‰": "#03A64B", "ì¹´ì¹´ì˜¤ë±…í¬": "#FEE500",
        "í† ìŠ¤ë±…í¬": "#0019FF", "SBIì €ì¶•ì€í–‰": "#FF6600", "OKì €ì¶•ì€í–‰": "#E60012",
        "í•œêµ­íˆ¬ìì¦ê¶Œ": "#00305F", "ë¯¸ë˜ì—ì…‹ì¦ê¶Œ": "#F15A22"
    };

    // 2. ê°€ìƒì˜ ë°ì´í„° (API ì—°ë™ ì „ ìƒ˜í”Œ)
    const products = [
        { id: 1, bank: "ì‹ í•œì€í–‰", name: "ì í¸í•œ ì •ê¸°ì˜ˆê¸ˆ", base: 3.5, max: 4.2, type: "deposit", note: "ì²« ê±°ë˜ ê³ ê° ìš°ëŒ€" },
        { id: 2, bank: "SBIì €ì¶•ì€í–‰", name: "ì‚¬ì´ë‹¤ ì •ê¸°ì˜ˆê¸ˆ", base: 3.8, max: 4.5, type: "deposit", note: "ì•± ê°€ì… ì „ìš©" },
        { id: 3, bank: "ë¯¸ë˜ì—ì…‹ì¦ê¶Œ", name: "ë°œí–‰ì–´ìŒ 1ë…„ë¬¼", base: 4.0, max: 4.0, type: "cp", note: "í•œë„ ì†Œì§„ ì‹œ ë§ˆê°" },
        { id: 4, bank: "êµ­ë¯¼ì€í–‰", name: "KB ìŠ¤íƒ€ ì •ê¸°ì˜ˆê¸ˆ", base: 3.2, max: 4.0, type: "deposit", note: "ê¸‰ì—¬ ì´ì²´ ì‹¤ì  í•„ìš”" }
    ];

    function renderProducts() {
        const list = document.getElementById('productList');
        const money = document.getElementById('inputMoney').value;
        const term = document.getElementById('inputTerm').value;

        list.innerHTML = products.map(p => {
            const color = bankColors[p.bank] || "#ffffff";
            // ê°„ë‹¨í•œ ì„¸í›„ ê³„ì‚° (15.4% ì†Œë“ì„¸)
            const interest = Math.floor(money * (p.max / 100) * (term / 12) * 0.846);
            const total = Number(money) + interest;

            return `
                <div class="card" onclick="toggleDetails(${p.id})">
                    <div class="bank-info">
                        <div class="bank-color" style="background:${color}"></div>
                        <span>${p.bank}</span>
                    </div>
                    <div class="product-name">${p.name}</div>
                    <div class="rates">
                        <div class="rate-box"><div class="label">ê¸°ë³¸</div><div class="val">${p.base}%</div></div>
                        <div class="rate-box"><div class="label">ìµœê³ </div><div class="val max-rate">${p.max}%</div></div>
                    </div>
                    <div class="details" id="details-${p.id}">
                        <div class="chart-container"><canvas id="chart-${p.id}"></canvas></div>
                        <div class="calc-box">
                            <strong>ë§Œê¸° ì˜ˆìƒ ìˆ˜ë ¹ì•¡</strong><br>
                            ì´ì(ì„¸í›„): ${interest.toLocaleString()}ì›<br>
                            ì´ í•©ê³„: <span class="max-rate">${total.toLocaleString()}ì›</span>
                        </div>
                        <p style="font-size:0.85rem; color:#666;">ğŸ’¡ íŠ¹ì´ì‚¬í•­: ${p.note}</p>
                    </div>
                </div>
            `;
        }).join('');
    }

    function toggleDetails(id) {
        const el = document.getElementById(`details-${id}`);
        const isOpening = el.style.display !== 'block';
        el.style.display = isOpening ? 'block' : 'none';
        
        if (isOpening) {
            initChart(id);
        }
    }

    function initChart(id) {
        const ctx = document.getElementById(`chart-${id}`).getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['10ì›”', '11ì›”', '12ì›”', 'ì˜¤ëŠ˜'],
                datasets: [{
                    label: 'ê¸ˆë¦¬ ì¶”ì´',
                    data: [3.8, 3.9, 3.7, products.find(p => p.id === id).max],
                    borderColor: '#0046FF',
                    tension: 0.3
                }]
            },
            options: { maintainAspectRatio: false }
        });
    }

    document.getElementById('inputMoney').addEventListener('input', renderProducts);
    document.getElementById('inputTerm').addEventListener('change', renderProducts);
    renderProducts();
</script>

</body>
</html>